<!--//RAW STORAGE TAB-->
<th:block xmlns="http://www.w3.org/1999/xhtml"
          xmlns:th="http://www.w3.org/1999/xhtml" th:fragment="rawStorage">

    <div class="tab-pane fade show active container-fluid" id="rawstorage" style="padding-bottom: 3rem;">
        <form th:action="@{'/fabric/getListOfRawStorage-'+${userId}+'-'+${breedId}}" method="get" style="margin-top: 1rem;">
            <table style="width: 100%;" >
                <tr>
                    <th scope="col">Описание
                        <div>
                            <button class="btn btn-primary btn-sm" id="selectDesc" type="button" onclick="selectButton('selectDescription')" data-toggle="tooltip" title="Выбрать все"><i class="fas fa-check-square"></i></button>
                            <button class="btn btn-primary btn-sm" id="deselectDesc" type="button" onclick="deselectButton('selectDescription')" data-toggle="tooltip" title="Удалить выбранные"><i class="fas fa-backspace"></i></button>
                        </div>
                    </th>
                    <th scope="col">Толщина, мм
                        <div>
                            <button class="btn btn-primary btn-sm" type="button"  onclick="selectButton('selectSizeOfHeight')" data-toggle="tooltip" title="Выбрать все"><i class="fas fa-check-square"></i></button>
                            <button class="btn btn-primary btn-sm" type="button" onclick="deselectButton('selectSizeOfHeight')" data-toggle="tooltip" title="Удалить выбранные"><i class="fas fa-backspace"></i></button>
                        </div>
                    </th>
                    <th scope="col">Ширина, мм
                        <div>
                            <button class="btn btn-primary btn-sm" type="button" onclick="selectButton('selectSizeOfWidth')" data-toggle="tooltip" title="Выбрать все"><i class="fas fa-check-square"></i></button>
                            <button class="btn btn-primary btn-sm" type="button" onclick="deselectButton('selectSizeOfWidth')" data-toggle="tooltip" title="Удалить выбранные"><i class="fas fa-backspace"></i></button>
                        </div>
                    </th>
                    <th scope="col">Длина, мм
                        <div>
                            <button class="btn btn-primary btn-sm" type="button" onclick="selectButton('selectSizeOfLong')" data-toggle="tooltip" title="Выбрать все"><i class="fas fa-check-square"></i></button>
                            <button class="btn btn-primary btn-sm" type="button" onclick="deselectButton('selectSizeOfLong')" data-toggle="tooltip" title="Удалить выбранные"><i class="fas fa-backspace"></i></button>
                        </div>
                    </th>
                    <th></th>
                </tr>

                <tr style="vertical-align: top;">
                    <td style="width: 20%">
                        <select id="selectDescription" class="form-control form-control-chosen" name="descriptions" data-placeholder="Выберите нужные..." multiple="multiple">
                            <option value="noDesc">без описания</option>
                            <option  th:each="obj : ${descList}" th:value="${obj}" th:text="${obj}"></option>
                        </select>
                    </td>

                    <td style="width: 20%">
                        <select id="selectSizeOfHeight" class="form-control form-control-chosen" name="heights" data-placeholder="Выберите нужные..." multiple="multiple">
                            <option  th:each="obj : ${sizeOfHeightList}" th:value="${obj}" th:text="${obj}"></option>
                        </select>
                    </td>
                    <td style="width: 20%">
                        <select id="selectSizeOfWidth" class="form-control form-control-chosen" name="widths" data-placeholder="Выберите нужные..." multiple="multiple">
                            <option  th:each="obj : ${sizeOfWidthList}" th:value="${obj}" th:text="${obj}"></option>
                        </select>
                    </td>
                    <td style="width: 20%">
                        <select id="selectSizeOfLong" class="form-control form-control-chosen" name="longs" data-placeholder="Выберите нужные..." multiple="multiple">
                            <option  th:each="obj : ${sizeOfLongList}" th:value="${obj}" th:text="${obj}"></option>
                        </select>
                    </td>
                    <td style="width: auto; align-items: end;">
                        <button class="btn btn-primary" type="submit" style="width: 100%;">
                            Поиск
                        </button>
                    </td>
                </tr>
            </table>
        </form>

        <table class="table table-hover table-striped" id="rawstoragetable">
            <br>
            <thead>
                <tr style="background: #18bc9c; color: white;">
                    <th colspan="9">ИТОГО:</th>
                    <th colspan="6" th:text="${sumExtent}">123123.00 м<sup>3</sup></th>
                </tr>
                <tr>
                    <th></th>
                    <th scope="col">Дата распил./прихода</th>
                    <th scope="col">Код партии</th>
                    <th scope="col">Порода</th>
                    <th scope="col">Описание</th>
                    <th scope="col">Толщина, мм</th>
                    <th scope="col">Ширина, мм</th>
                    <th scope="col">Длина, мм</th>
                    <th scope="col">Кол-во досок, шт</th>
                    <th scope="col">Кубатура, м<sup>3</sup></th>
                    <th>TreeStorage extent</th>
                    <th>Поставщик</th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <div th:each="rs, index : ${rawStorageList}">
                    <tr th:id="${rs.id}">
                        <td th:text="${rs.id}"></td>
<!--                        <td  class="details-control" style="width: 30px" onclick="javascript:$('#parent'+this.id).toggle();" th:id="${rs.id}"></td>-->
                        <th scope="col" th:if="${rs?.statisticInfo!=null}">
                            <span th:text="${rs?.statisticInfo?.date?.substring(8,10)+'-'+rs?.statisticInfo?.date?.substring(5,7)+'-'+rs?.statisticInfo?.date?.substring(0,4)}"></span>
                            <span class="original-date" th:text="${rs?.statisticInfo?.date}" style="display: none"></span>
                        </th>
                        <th scope="col" th:if="${rs?.statisticInfo==null}">
                            <span th:text="${rs?.date?.substring(8,10)+'-'+rs?.date?.substring(5,7)+'-'+rs?.date?.substring(0,4)}"></span>
                            <span class="original-date" th:text="${rs?.date}" style="display: none"></span>
                        </th>
                        <th scope="row" th:text="${rs.codeOfProduct}"></th>
                        <td th:text="${rs.breedOfTree.breed}"></td>
                        <td th:text="${rs.breedDescription}"></td>
                        <td th:text="${rs.sizeOfHeight}"></td>
                        <td th:text="${rs.sizeOfWidth}"></td>
                        <td th:text="${rs.sizeOfLong}"></td>
                        <td th:text="${rs.countOfDesk}"></td>
                        <td th:text="${rs.extent}"></td>
                        <td th:text="${rs?.treeStorage?.extent}"></td>
                        <td th:text="${rs?.treeStorage?.contrAgent?.nameOfAgent}"></td>
                        <td th:text="${T(Double).parseDouble(rs?.extent)-T(Double).parseDouble(rs?.maxExtent)}"></td>
                        <td th:if="${rs?.recycle!=null}" th:text="${T(Double).parseDouble(rs?.recycle?.extent)-T(Double).parseDouble(rs?.recycle?.maxExtent)}"></td>
                        <td th:if="${rs?.recycle==null}">null</td>
                        <td th:text="${(rs.getBuCutting==null)?'false':rs.getBuCutting}"></td>
                        <td th:text="${rs?.treeStorage?.isMainStorage}"></td>
                        <td style="text-align: right;">
                            <button th:if="${btnConfig?.equals('btnON')}" type="button" class="btn btn-primary btn-sm" data-toggle="modal" onclick="sendForDrying(this)"><i class="fas fa-th" data-toggle="tooltip" title="В сушку"></i></button>
                            <button th:if="${btnConfig?.equals('btnON') && rs?.getBuCutting==false}" type="button" class="btn btn-primary btn-sm" data-toggle="modal" onclick="editRawStorage(this)"><i class="fas fa-pen" data-toggle="tooltip" title="Редактировать"></i></button>
<!--                            <button th:if="${btnConfig?.equals('btnON')}" type="button" class="btn btn-primary btn-sm" data-toggle="modal" onclick="sendForPackagesStorage(this)"><i class="fas fa-cubes" data-toggle="tooltip" title="Формирование пачек"></i></button>-->
                            <button th:if="${btnConfig?.equals('btnON') && rs?.getBuCutting==false}" type="button" class="btn btn-primary btn-sm" data-toggle="modal" onclick="returnToIncome(this)"><i class="fas fa-undo-alt" data-toggle="tooltip" title="Возвратить в приход"></i></button>
                        </td>
                    </tr>
                </div>

            <tfoot>
                <tr>
                    <th></th>
    <!--                <th style="width: 30px"></th>-->
                    <th scope="col">Дата распил./прихода</th>
                    <th scope="col">Код партии</th>
                    <th scope="col">Порода</th>
                    <th scope="col">Описание</th>
                    <th scope="col">Толщина, мм</th>
                    <th scope="col">Ширина, мм</th>
                    <th scope="col">Длина, мм</th>
                    <th scope="col">Кол-во досок, шт</th>
                    <th scope="col">Кубатура, м<sup>3</sup></th>
                    <th>TreeStorage extent</th>
                    <th>Поставщик</th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                </tr>
            </tfoot>
            </tbody>
        </table>

        <!-- BUTTON -->
        <div class="float-action-button" th:if="${btnConfig?.equals('btnON')}">
            <button type="button" class="buttons btn btn-primary" title="История прихода" data-toggle="modal" data-placement="left" data-target="#exportHistoryModal">
                <i class="fas fa-history"></i>
            </button>
            <button type="button" class="buttons btn btn-primary" title="Экспорт фактический" data-toggle="modal" data-placement="left" data-target="#exportModal">
                <i class="far fa-file-excel"></i>
            </button>
            <button type="button" class="buttons btn btn-primary" title="Группировать" data-toggle="modal" data-placement="left" id="groupRawStorageButton">
                <i class="fas fa-code-branch"></i>
            </button>
            <button type="button" class="buttons main-button btn btn-primary" title="Добавить пиломатериалы" data-toggle="modal" data-placement="left" data-target="#addIncomeToRawStorageModal">
                <i class="fa fa-plus"></i>
            </button>
        </div>
        <!-- BUTTON -->
    </div>


    <!--  Grouping pine start -->
    <div class="modal fade" id="groupingModal">
        <div class="modal-dialog modal-lg modal-dialog-centered" style="width: 100% !important;" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Группирование</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form th:action="@{'/fabric/groupPineRaw-'+${userId}+'-'+${breedId}}" id="groupRawStorageItems" method="post">
                        <div class="form-group row d-flex" style="align-items: flex-end; margin-top: 5px">
                            <div class="col-6">
                                <label class="col-form-label" for="groupDryingModalCode">Код</label>
                                <input type="text" class="form-control" id="groupDryingModalCode" required="required" placeholder="Не заполнено" autocomplete="off" name="codeOfProduct">
                            </div>
                            <div class="col-6">
                                <label class="control-label" for="groupDryingModalMaterial">Порода</label>
                                <input type="text" class="form-control" id="groupDryingModalMaterial" readonly>
                            </div>
                            <div class="col-4">
                                <label class="control-label" for="groupDryingModalMaterialDescr">Описание</label>
                                <input class="form-control" id="groupDryingModalMaterialDescr" type="text" placeholder="Не заполнено" name="breedDescription">
                            </div>
                            <div class="col-4">
                                <label class="col-form-label" for="groupDryingModalThickness">Толщина, мм</label>
                                <input type="number" min="1" pattern="[0-9]*\.?[0-9]*" class="form-control" readonly id="groupDryingModalThickness" required="required" autocomplete="off" placeholder="мм" name="sizeOfHeight"  oninput="calculateExtent()">
                            </div>
                            <div class="col-4">
                                <label class="col-form-label" for="groupDryingModalWidth">Ширина, мм</label>
                                <input type="number" min="1" pattern="[0-9]*\.?[0-9]*" class="form-control" readonly id="groupDryingModalWidth" required="required" autocomplete="off" placeholder="мм" name="sizeOfWidth"  oninput="calculateExtent()">
                            </div>
                            <div class="col-4">
                                <label class="col-form-label" for="groupDryingModalLength">Длина, мм</label>
                                <input type="number" min="0" pattern="[0-9]*\.?[0-9]*" class="form-control" readonly id="groupDryingModalLength" required="required" autocomplete="off" placeholder="мм" name="sizeOfLong"  oninput="calculateExtent()">
                            </div>
                            <div class="col-4">
                                <label class="col-form-label" for="groupDryingModalCount">Количество досок</label>
                                <input type="number" min="1" pattern="[0-9]*\.?[0-9]*" class="form-control" readonly id="groupDryingModalCount" required="required" autocomplete="off" placeholder="шт" name="countOfDesk" oninput=" calculateExtent()">
                            </div>
                            <div class="col-4">
                                <label class="col-form-label" for="groupDryingModalVolume">Кубатура м<sup>3</sup></label>
                                <input type="text"  class="form-control" id="groupDryingModalVolume" required="required" readonly autocomplete="off" placeholder="мм" name="extent">
                            </div>
                        </div>

                        <table class="table table-hover table-striped" id="tableForRawStorageGrouping" style="padding-left: 1rem; padding-right: 1rem">
                            <thead>
                            <tr>
                                <th scope="col">Код</th>
                                <th scope="col">Описание</th>
                                <th scope="col">Количество досок, шт</th>
                                <th scope="col">Кубатура</th>
                                <th scope="col">ID</th>
                                <th></th>
                            </tr>
                            </thead>

                            <tbody>

                            </tbody>

                            <tfoot>
                                <th scope="col">Код</th>
                                <th scope="col">Описание</th>
                                <th scope="col">Количество досок, шт</th>
                                <th scope="col">Кубатура</th>
                                <th scope="col">ID</th>
                                <th></th>
                            </tfoot>
                        </table>
                        <div class="modal-footer">
                            <button type="submit" id="groupRawStorageSubmitButton" class="btn btn-primary">Отправить</button>
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Отмена</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>


    <!--  Add to raw storage  -->
    <div class="modal fade" id="addIncomeToRawStorageModal">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Добавить пиломатериалы</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <form>
                    <div class="modal-body">
                        <input type="hidden" id="breedId" th:value="${breedId}">
                        <input type="hidden" id="userId" th:value="${userId}">

                        <label class="col-form-label" for="addToRawStorageCode">Код партии</label>
                        <input type="text" class="form-control" id="addToRawStorageCode" required="required" autocomplete="off" placeholder="Не заполнено" name="codeOfProduct">

                        <div class="form-group row d-flex" style="align-items: flex-end; margin-bottom: 0; margin-top: 5px;">
                            <div class="col-6">
                                <label class="control-label" for="addToRawStorageMaterial">Порода</label>
                                <input class="form-control" id="addToRawStorageMaterial" type="text" placeholder="Порода" th:value="${breedOfTreeList[breedId-1].breed}" name="" disabled="disabled">
                            </div>
                            <div class="col-6">
                                <label class="control-label" for="addToRawStorageBreedDescription">Описание породы</label>
                                <input class="form-control" id="addToRawStorageBreedDescription" type="text" placeholder="Не заполнено"  name="breedDescription" >
                            </div>
                        </div>

                        <label class="col-form-label" for="addToRawStorageSupplier">Поставщик</label>
                        <input type="text" class="form-control" list="suppliers3" id="addToRawStorageSupplier" autocomplete="off" name="nameOfAgent" placeholder="Не заполнено" onchange="setHiddenValue(this)">
                        <datalist id="suppliers3">
                            <option  th:each="c, index : ${contrAgentList}" th:text="${c.nameOfAgent}" th:label="${c?.addressOfCompany}" th:data-value="${c.id}"></option>
                        </datalist>
                        <input type="number" hidden="hidden"  name="contrAgent.id" id="addToRawStorageSupplier-hidden">


                        <div class="form-group row d-flex" style="align-items: flex-end; margin-bottom: 0;margin-top: 5px;">
                            <div class="col-6">
                                <label class="control-label" for="addToRawStorageThickness">Толщина</label>
                                <input class="form-control" id="addToRawStorageThickness" type="number" placeholder="мм" min="1" required="required" autocomplete="off" name="sizeOfHeight">
                            </div>
                            <div class="col-6">
                                <label class="control-label" for="addToRawStorageWidth">Ширина</label>
                                <input class="form-control" id="addToRawStorageWidth" type="number" placeholder="мм" min="1" required="required" autocomplete="off" name="sizeOfWidth">
                            </div>
                        </div>

                        <div class="form-group row d-flex" style="align-items: flex-end; margin-bottom: 0;">
                            <div class="col-6">
                                <label class="control-label" for="addToRawStorageLength">Длина</label>
                                <input class="form-control" id="addToRawStorageLength" type="number" placeholder="мм" min="0" required="required" autocomplete="off" name="sizeOfLong">
                            </div>
                            <div class="col-6">
                                <label class="control-label" for="addToRawStorageCount">Количество досок</label>
                                <input class="form-control" id="addToRawStorageCount" type="number" placeholder="шт" min="1" required="required" autocomplete="off" name="countOfDesk">
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" id="sendRequestToAddInputButton" class="btn btn-primary">Добавить</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Отмена</button>
                    </div>
                </form>
            </div>
        </div>
    </div>


    <div class="modal fade" id="sendForDryingModal">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="sendForDryingModalHeader">Отправить в сушку</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <form th:action="@{'/fabric/addDeskToDrying-'+${userId}+'-'+${breedId}}" method="post" id="sendForDryingModalFormPine">
                    <div class="modal-body">

                        <!-- Insert rows -->
                        <div class="form-group">
                            <input type="text" class="form-control" id="sendForDryingModalId" hidden="hidden" autocomplete="off" name="rawStorageId">

                            <label class="col-form-label" for="sendForDryingModalCode">Код</label>
                            <input type="text" class="form-control" id="sendForDryingModalCode" required="required" placeholder="Не заполнено" autocomplete="off" name="codeOfProduct">

                            <div class="form-group row d-flex" style="align-items: flex-end; margin-bottom: 0; margin-top: 5px">
                                <div class="col-6">
                                    <label class="control-label" for="sendForDryingModalMaterial">Порода</label>
                                    <input type="text" class="form-control" id="sendForDryingModalMaterial" disabled="disabled">
                                </div>
                                <div class="col-6">
                                    <label class="control-label" for="sendForDryingModalMaterialDescr">Описание</label>
                                    <input class="form-control" id="sendForDryingModalMaterialDescr" type="text" placeholder="Не заполнено"  name="breedDescription">
                                </div>
                            </div>

                            <div class="form-group row d-flex" style="align-items: flex-end; margin-bottom: 0;">
                                <div class="col-4">
                                    <label class="col-form-label" for="sendForDryingModalThickness">Толщина</label>
                                    <input type="number" min="1" pattern="[0-9]*\.?[0-9]*" class="form-control" id="sendForDryingModalThickness" disabled="disabled" required="required" placeholder="мм" name="sizeOfHeight">
                                </div>
                                <div class="col-4">
                                    <label class="col-form-label" for="sendForDryingModalWidth">Ширина</label>
                                    <input type="number" min="1" pattern="[0-9]*\.?[0-9]*" required="required" class="form-control" id="sendForDryingModalWidth" disabled="disabled" placeholder="мм" name="sizeOfWidth">
                                </div>
                                <div class="col-4">
                                    <label class="col-form-label" for="sendForDryingModalLength">Длина</label>
                                    <input type="number" min="0" pattern="[0-9]*\.?[0-9]*" required="required" class="form-control" id="sendForDryingModalLength" disabled="disabled" placeholder="мм" name="sizeOfLong">
                                </div>
                            </div>

                            <div class="form-group row d-flex" style="align-items: flex-end; margin-bottom: 0;">
                                <div class="col-4">
                                    <label class="col-form-label" for="sendForDryingModalCount">Количество досок</label>
                                    <input type="number" min="1" pattern="[0-9]*\.?[0-9]*" required="required" class="form-control" id="sendForDryingModalCount" autocomplete="off" placeholder="шт" name="countOfDesk">
                                </div>
                                <div class="col-4">
                                    <label class="col-form-label" for="sendForDryingModalVolume">Кубатура</label>
                                    <input type="number" min="0" step="any" pattern="[0-9]*\.?[0-9]*" placeholder="м3" class="form-control" id="sendForDryingModalVolume"  disabled="disabled" name="extent">
                                </div>
                                <div class="col-4">
                                    <label class="col-form-label" for="addDryingBox">Камера</label>
                                    <input class="form-control" type="number" min="0" id="addDryingBox" placeholder="Не заполнено" name="cell" required="required">
                                </div>
                            </div>

                            <div class="form-group row d-flex" style="align-items: flex-end; margin-bottom: 0;">
                                <div class="col-6">
                                    <label class="col-form-label" for="addDryingStartDate">Дата загрузки</label>
                                    <input class="form-control" type="date" id="addDryingStartDate"  name="startDate" required="required">
                                </div>
                                <div class="col-6">
                                    <label class="col-form-label" for="addDryingDate">Дата выхода</label>
                                    <input class="form-control" type="date" id="addDryingDate"  name="date" required="required">
                                </div>
                                <script type="text/javascript">
                                    document.querySelector("#addDryingDate").valueAsDate = new Date();
                                    document.querySelector("#addDryingStartDate").valueAsDate = new Date();
                                </script>
                            </div>
                        </div>
                        <!-- Insert rows -->
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary">Отправить</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Отмена</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Сушка edit-->
    <div class="modal fade" id="editDryingModal">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editDryingModalHeader">Редактировать</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <form th:action="@{'/fabric/editRawStorageObj-'+${userId}+'-'+${breedId}}" method="post" id="submitFormForEditRawStorage">
                    <div class="modal-body">

                        <!-- Insert rows -->
                        <div class="form-group">
                            <input type="text" class="form-control" id="editDryingModalId" hidden="hidden" autocomplete="off" name="id">
                            <input type="text" class="form-control" id="editDryingModalMaxExtent" hidden="hidden" autocomplete="off">
                            <input type="text" class="form-control" id="editDryingModalInitialExtent" hidden="hidden" autocomplete="off">

                            <label class="col-form-label" for="editDryingModalCode">Код</label>
                            <input type="text" class="form-control" id="editDryingModalCode" required="required" placeholder="Не заполнено" autocomplete="off" name="codeOfProduct">

                            <div class="form-group row d-flex" style="align-items: flex-end; margin-bottom: 0; margin-top: 5px">
                                <div class="col-6">
                                    <label class="control-label" for="editDryingModalMaterial">Порода</label>
                                    <input type="text" class="form-control" id="editDryingModalMaterial" disabled="disabled">
                                </div>
                                <div class="col-6">
                                    <label class="control-label" for="editDryingModalMaterialDescr">Описание</label>
                                    <input class="form-control" id="editDryingModalMaterialDescr" type="text" placeholder="Не заполнено" name="breedDescription">
                                </div>
                            </div>

                            <div class="form-group row d-flex" style="align-items: flex-end; margin-bottom: 0;">
                                <div class="col-4">
                                    <label class="col-form-label" for="editDryingModalThickness">Толщина, мм</label>
                                    <input type="number" min="1" step="1" pattern="[0-9]*\.?[0-9]*" class="form-control" id="editDryingModalThickness" required="required" autocomplete="off" placeholder="мм" name="sizeOfHeight"  oninput="calculateExtent()">
                                </div>
                                <div class="col-4">
                                    <label class="col-form-label" for="editDryingModalWidth">Ширина, мм</label>
                                    <input type="number" min="1" step="1" pattern="[0-9]*\.?[0-9]*" class="form-control" id="editDryingModalWidth" required="required" autocomplete="off" placeholder="мм" name="sizeOfWidth"  oninput="calculateExtent()">
                                </div>
                                <div class="col-4">
                                    <label class="col-form-label" for="editDryingModalLength">Длина, мм</label>
                                    <input type="number" min="0" step="1" pattern="[0-9]*\.?[0-9]*" class="form-control" id="editDryingModalLength" required="required" autocomplete="off" placeholder="мм" name="sizeOfLong"  oninput="calculateExtent()">
                                </div>
                            </div>

                            <div class="form-group row d-flex" style="align-items: flex-end; margin-bottom: 0;">
                                <div class="col-6">
                                    <label class="col-form-label" for="editDryingModalCount">Количество досок</label>
                                    <input type="number" min="1" pattern="[0-9]*\.?[0-9]*" step="1" class="form-control" id="editDryingModalCount" required="required" autocomplete="off" placeholder="шт" name="countOfDesk" oninput=" calculateExtent()">
                                </div>
                                <div class="col-6">
                                    <label class="col-form-label" for="editDryingModalVolume">Кубатура м<sup>3</sup></label>
                                    <input type="number" min="0" step="any" pattern="[0-9]*\.?[0-9]*" class="form-control" id="editDryingModalVolume" required="required" readonly autocomplete="off" placeholder="мм" name="extent">
                                </div>
                            </div>
                        </div>
                        <!-- Insert rows -->
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary">Редактировать</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Отмена</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Export start-->
    <div class="modal fade" id="exportModal">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Экспортировать таблицу</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>В экспортируемый файл попадут все записи, которые отображены в таблице.</p>
                </div>
                <form th:action="@{'/fabric/exportRawStorageXLS-'+${userId}+'-'+${breedId}+${exportLinkParams}}" method="post">
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary">Скачать</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Отмена</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        document.querySelector("#endDateInput").valueAsDate = new Date();
    </script>
    <!-- Export end -->

    <!-- Export history start-->
    <div class="modal fade" id="exportHistoryModal">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Экспортировать историю прихода материала</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <form th:action="@{'/fabric/exportProviderHistoryTreeStorageXLS-'+${userId}+'-'+${breedId}}" method="post">
                    <div class="modal-body">
                        <div class="form-group row">
                            <label for="startDateInput" class="col-2 col-form-label">Начало</label>
                            <div class="col-10">
                                <input class="form-control" type="date" value="2020-01-01" id="startHistDateInput" required="required" name="startDate">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="endDateInput" class="col-2 col-form-label">Конец</label>
                            <div class="col-10">
                                <input class="form-control" type="date" id="endHistDateInput" required="required" name="endDate">
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary">Скачать</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Отмена</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        document.querySelector("#endHistDateInput").valueAsDate = new Date();
    </script>
    <!-- Export history end -->

    <!-- Сырой склад -> Пачки -->
    <div class="modal fade" id="sendFromRawToPackageModal">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="sendForPackageModalHeader">Формирование пачек</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <!--     TUT         -->
                <form th:action="@{'/fabric/createRawPackages-'+${userId}+'-'+${breedId}}" method="post">
                <!--     TUT         -->
                    <div class="modal-body">

                        <!-- Insert rows -->
                        <input type="text" class="form-control" id="sendForPackagesModalId" hidden="hidden" autocomplete="off" name="id">

                        <label class="col-form-label" for="sendForPackageModalCode">Код</label>
                        <input type="text" class="form-control" id="sendForPackageModalCode" required="required" autocomplete="off" name="codeOfProduct">

                        <div class="form-group row d-flex" style="align-items: flex-end; margin-bottom: 0; margin-top: 5px">
                            <div class="col-6">
                                <label class="control-label" for="sendForPackageModalMaterial">Порода</label>
                                <input type="text" class="form-control" id="sendForPackageModalMaterial" disabled="disabled">
                            </div>

                            <div class="col-6">
                                <label class="control-label" for="sendForPackageModalMaterialDescr">Описание</label>
                                <input class="form-control" id="sendForPackageModalMaterialDescr" type="text" name="breedDescription">
                            </div>
                        </div>

                        <div class="form-group row d-flex" style="align-items: flex-end; margin-bottom: 0;">
                            <div class="col-6">
                                <label class="col-form-label" for="sendForPackageModalCount">Количество досок</label>
                                <input type="number" min="1" class="form-control" id="sendForPackageModalCount" required="required" autocomplete="off" placeholder="шт" disabled="">
                            </div>

                            <div class="col-6">
                                <label class="col-form-label" for="sendForPackageHeightPc">Высота, шт.</label>
                                <input type="number" min="1" class="form-control" id="sendForPackageHeightPc" autofocus required="required" autocomplete="off" placeholder="шт" name="height">
                            </div>
                        </div>

                        <div class="form-group row d-flex" style="align-items: flex-end; margin-bottom: 0">
                            <div class="col-6">
                                <label class="col-form-label" for="sendForPackageModalWidthPc">Ширина, шт.</label>
                                <input type="number" min="1" class="form-control" id="sendForPackageModalWidthPc" required="required" autocomplete="off" placeholder="шт" name="width">
                            </div>

                            <div class="col-6">
                                <label class="col-form-label" for="sendForPackageModalPacksCount">Количество пачек</label>
                                <input type="number" min="1" step="1" placeholder="шт" class="form-control" id="sendForPackageModalPacksCount" required="required" autocomplete="off" name="count">
                            </div>
                        </div>

                        <div class="form-group row d-flex" style="align-items: flex-end">
                            <div class="col-6">
                                <label class="col-form-label" for="sendForPackageModalLengthFact">Длина-ФАКТ</label>
                                <input type="number" min="0" class="form-control" id="sendForPackageModalLengthFact" required="required" autocomplete="off" placeholder="мм" name="longFact">
                            </div>

                            <div class="col-6">
                                <label class="col-form-label" for="sendForPackageModalHeightWidth">Высота/Ширина</label>
                                <input type="text" class="form-control" id="sendForPackageModalHeightWidth" required="required" autocomplete="off" placeholder="в/ш" name="heightWidth">
                            </div>
                        </div>
                        <!-- Insert rows -->
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary">Сформировать</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Отмена</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!-- Сырой склад -> Пачки end-->

    <!--  Modal return confirmation start -->
    <div class="modal fade" id="returnToIncomeModal">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Возвращение</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <!--       TUT         -->
                <form th:action="@{'/fabric/returnRawPackageToTree-'+${userId}+'-'+${breedId}}" method="post">
                <div class="modal-body">

                        <div class="form-group">
                            <input type="text" class="form-control" id="returnItemId" hidden="hidden" autocomplete="off" name="id">

                            <p id="returnItemModalConfirmation">
                            </p>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary" id="submitReturnBtnRS">Подтвердить</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Отмена</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!--  Modal return confirmation end -->

    <script type="text/javascript" th:src="@{../js/fabric/raw/raw.storage.pine.js}"></script>

</th:block>












<!--OAK-->
<!--//RAW STORAGE TAB-->
<th:block xmlns="http://www.w3.org/1999/xhtml"
          xmlns:th="http://www.w3.org/1999/xhtml" th:fragment="rawStorageOAK">

    <div class="tab-pane fade show active container-fluid" id="rawstorage" style="padding-bottom: 3rem;">
        <form th:action="@{'/fabric/getListOfRawStorage-'+${userId}+'-'+${breedId}}" method="get" style="margin-top: 1rem;">
            <table style="width: 100%;" >
                <tr>
                    <th scope="col">Описание
                        <div>
                            <button class="btn btn-primary btn-sm" id="selectDesc" type="button" onclick="selectButton('selectDescription')" data-toggle="tooltip" title="Выбрать все"><i class="fas fa-check-square"></i></button>
                            <button class="btn btn-primary btn-sm" id="deselectDesc" type="button" onclick="deselectButton('selectDescription')" data-toggle="tooltip" title="Удалить выбранные"><i class="fas fa-backspace"></i></button>
                        </div>
                    </th>
                    <th scope="col">Толщина, мм
                        <div>
                            <button class="btn btn-primary btn-sm" type="button"  onclick="selectButton('selectSizeOfHeight')" data-toggle="tooltip" title="Выбрать все"><i class="fas fa-check-square"></i></button>
                            <button class="btn btn-primary btn-sm" type="button" onclick="deselectButton('selectSizeOfHeight')" data-toggle="tooltip" title="Удалить выбранные"><i class="fas fa-backspace"></i></button>
                        </div>
                    </th>
                    <th scope="col">Длина, мм
                        <div>
                            <button class="btn btn-primary btn-sm" type="button" onclick="selectButton('selectSizeOfLong')" data-toggle="tooltip" title="Выбрать все"><i class="fas fa-check-square"></i></button>
                            <button class="btn btn-primary btn-sm" type="button" onclick="deselectButton('selectSizeOfLong')" data-toggle="tooltip" title="Удалить выбранные"><i class="fas fa-backspace"></i></button>
                        </div>
                    </th>
                    <th></th>
                </tr>

                <tr style="vertical-align: top;">
                    <td style="width: 28%">
                        <select id="selectDescription" class="form-control form-control-chosen" name="descriptions" data-placeholder="Выберите нужные..." multiple="multiple">
                            <option value="noDesc">без описания</option>
                            <option  th:each="obj : ${descList}" th:value="${obj}" th:text="${obj}"></option>
                        </select>
                    </td>

                    <td style="width: 28%">
                        <select id="selectSizeOfHeight" class="form-control form-control-chosen" name="heights" data-placeholder="Выберите нужные..." multiple="multiple">
                            <option  th:each="obj : ${sizeOfHeightList}" th:value="${obj}" th:text="${obj}"></option>
                        </select>
                    </td>
                    <td style="width: 28%">
                        <select id="selectSizeOfLong" class="form-control form-control-chosen" name="longs" data-placeholder="Выберите нужные..." multiple="multiple">
                            <option  th:each="obj : ${sizeOfLongList}" th:value="${obj}" th:text="${obj}"></option>
                        </select>
                    </td>
                    <td style="width: auto; align-items: end;">
                        <button class="btn btn-primary" type="submit" style="width: 100%;">
                            Поиск
                        </button>
                    </td>
                </tr>
            </table>
        </form>

        <table class="table table-hover table-striped" id="rawstoragetableoak">
            <br>
            <thead>
                <tr style="background: #18bc9c; color: white;">
                    <th colspan="8">ИТОГО:</th>
                    <th colspan="7" th:text="${sumExtent}">123123.00 м<sup>3</sup></th>
                </tr>
                <tr style="color: #212529">
                    <th></th>
                    <th style="width: 30px"></th>
                    <th scope="col" class="sorting"><a th:href="@{'/fabric/getListOfRawStorage-'+${userId}+'-'+${breedId}+${exportLinkParams}+'&sortedField=date&sortedType='+${(sortedField!=null && sortedType!=null && sortedField?.equals('date') && sortedType?.equals('ASC'))?'DESC':'ASC'}}" style="color: #212529">Дата распил./прихода</a></th>
                    <th scope="col" class="sorting"><a th:href="@{'/fabric/getListOfRawStorage-'+${userId}+'-'+${breedId}+${exportLinkParams}+'&sortedField=code&sortedType='+${(sortedField!=null && sortedType!=null && sortedField?.equals('code') && sortedType?.equals('ASC'))?'DESC':'ASC'}}" style="color: #212529">Код партии</a></th>
                    <th scope="col">Порода</th>
                    <th scope="col" class="sorting"><a th:href="@{'/fabric/getListOfRawStorage-'+${userId}+'-'+${breedId}+${exportLinkParams}+'&sortedField=breedDescription&sortedType='+${(sortedField!=null && sortedType!=null &&  sortedField?.equals('breedDescription') && sortedType?.equals('ASC'))?'DESC':'ASC'}}" style="color: #212529">Описание</a></th>
                    <th scope="col" class="sorting"><a th:href="@{'/fabric/getListOfRawStorage-'+${userId}+'-'+${breedId}+${exportLinkParams}+'&sortedField=height&sortedType='+${(sortedField!=null && sortedType!=null &&  sortedField?.equals('height') && sortedType?.equals('ASC'))?'DESC':'ASC'}}" style="color: #212529">Толщина, мм</a></th>
                    <th scope="col" class="sorting"><a th:href="@{'/fabric/getListOfRawStorage-'+${userId}+'-'+${breedId}+${exportLinkParams}+'&sortedField=long&sortedType='+${(sortedField!=null && sortedType!=null &&  sortedField?.equals('long') && sortedType?.equals('ASC'))?'DESC':'ASC'}}" style="color: #212529">Длина, мм</a></th>
                    <th scope="col" class="sorting"><a th:href="@{'/fabric/getListOfRawStorage-'+${userId}+'-'+${breedId}+${exportLinkParams}+'&sortedField=extent&sortedType='+${(sortedField!=null && sortedType!=null && sortedField?.equals('extent') && sortedType?.equals('ASC'))?'DESC':'ASC'}}" style="color: #212529">Кубатура, м<sup>3</sup></a></th>
                    <th scope="col">Примечание</th>
                    <th scope="col">TreeStorage extent</th>
                    <th scope="col">Поставщик</th>
                    <th scope="col">rs.ext-rs.max</th>
                    <th scope="col">rec.ext-rs.rec.max</th>
                    <th></th>
                    <th></th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <div th:each="rs, index : ${rawStorageList}">
                    <tr th:id="${rs.id}">
                        <td th:text="${rs.id}"></td>
                        <td th:if="${rs.deskOakList.isEmpty()}"></td>
                        <td th:if="${!rs.deskOakList.isEmpty()}" class="details-control" onclick="javascript:$('#parent'+this.id).toggle();" th:id="${rs.id}"><span></span></td>
                        <th scope="col" th:if="${rs?.statisticInfo!=null}">
                            <span th:text="${rs?.statisticInfo?.date?.substring(8,10)+'-'+rs?.statisticInfo?.date?.substring(5,7)+'-'+rs?.statisticInfo?.date?.substring(0,4)}"></span>
                            <span class="original-date" th:text="${rs?.statisticInfo?.date}" style="display: none"></span>
                        </th>
                        <th scope="col" th:if="${rs?.statisticInfo==null}">
                            <span th:text="${rs?.date?.substring(8,10)+'-'+rs?.date?.substring(5,7)+'-'+rs?.date?.substring(0,4)}"></span>
                            <span class="original-date" th:text="${rs?.date}" style="display: none"></span>
                        </th>
                        <th scope="row" th:text="${rs.codeOfProduct}"></th>
                        <td th:text="${rs.breedOfTree.breed}"></td>
                        <td th:text="${rs.breedDescription}"></td>
                        <td th:text="${rs.sizeOfHeight}"></td>
                        <td th:text="${rs?.sizeOfLong}"></td>
                        <td th:text="${rs.extent}"></td>
                        <td th:text="${rs.description}"></td>
                        <td th:text="${rs?.treeStorage?.extent}"></td>
                        <td th:text="${rs?.treeStorage?.contrAgent?.nameOfAgent}"></td>
                        <td th:text="${T(Double).parseDouble(rs?.extent)-T(Double).parseDouble(rs?.maxExtent)}"></td>
                        <td th:if="${rs?.recycle!=null}" th:text="${T(Double).parseDouble(rs?.recycle?.extent)-T(Double).parseDouble(rs?.recycle?.maxExtent)}"></td>
                        <td th:if="${rs?.recycle==null}">null</td>
                        <td th:text="${(rs.getBuCutting==null)?'false':rs.getBuCutting}"></td>
                        <td th:text="${rs?.treeStorage?.isMainStorage}"></td>
                        <td style="text-align: right; width: 200px !important; display: block;">
                            <button th:if="${btnConfig?.equals('btnON')}" type="button" class="btn btn-primary btn-sm" data-toggle="modal" onclick="sendForDryingOak(this)"><i class="fas fa-th" data-toggle="tooltip" title="В сушку"></i></button>
                            <button th:if="${btnConfig?.equals('btnON') && rs?.getBuCutting==false}" type="button" class="btn btn-primary btn-sm" data-toggle="modal" onclick="editRawStorageOak(this)"><i class="fas fa-pen" data-toggle="tooltip" title="Редактировать"></i></button>
                            <button th:if="${btnConfig?.equals('btnON') && !rs.deskOakList.isEmpty()}" type="button" class="btn btn-primary btn-sm" data-toggle="modal" onclick="addOakRawStorageItem(this)"><i class="fas fa-plus" data-toggle="tooltip" title="Добавить позицию"></i></button>
<!--                            <button th:if="${btnConfig?.equals('btnON') && rs.deskOakList.isEmpty()}" type="button" class="btn btn-primary btn-sm" data-toggle="modal" onclick="sendForPackagesStorageOak(this.parentElement.parentElement.getAttribute('id'))"><i class="fas fa-cubes" data-toggle="tooltip" title="Рассчитать и добавить кубатуру к пачке"></i></button>-->
                            <button th:if="${btnConfig?.equals('btnON') && rs?.getBuCutting==false}" type="button" class="btn btn-primary btn-sm" data-toggle="modal" onclick="returnToIncome(this)"><i class="fas fa-undo-alt" data-toggle="tooltip" title="Возвратить в приход"></i></button>
                            <button th:if="${btnConfig?.equals('btnON') && rs?.getBuCutting==false}" type="button" class="btn btn-primary btn-sm" data-toggle="modal" onclick="resetRawExtent(this)"><i class="fab fa-creative-commons-zero" data-toggle="tooltip" title="Обнулить кубатуру"></i></button>
                        </td>
                    </tr>
                    <tr style="display:none" th:id="'parent'+${rs.id}" th:if="${!rs.deskOakList.isEmpty()}">
                        <td style="display:none; width: 30px"></td>
<!--                        <td style="display:none"></td>-->
                        <td colspan="11" class="child-table">
                            <table class="table table-hover table-striped parent-table" >
                                <thead>
                                    <tr>
                                        <th scope="col">Ширина, мм</th>
                                        <th scope="col">Количество досок</th>
                                        <th class="delete-btns"></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr th:each="desc: ${rs?.deskOakList}" th:id="${desc.id}">
                                        <td th:text="${desc.sizeOfWidth}"></td>
                                        <td th:text="${desc.countOfDesk}"></td>
                                        <td class="delete-btns">
                                            <button  type="button" class="btn btn-primary btn-sm" data-toggle="modal" onclick="editOakPackageItem(this)"><i class="fas fa-pen" data-toggle="tooltip" title="Редактировать"></i></button>
                                            <button  type="button" class="btn btn-primary btn-sm" data-toggle="modal" onclick="deleteOakPackageItem(this)"><i class="fa fa-times" data-toggle="tooltip" title="Удалить"></i></button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </td>
                        <td style="display:none"></td>
                        <td style="display:none"></td>
                        <td style="display:none"></td>
                        <td style="display:none"></td>
                        <td style="display:none"></td>
                        <td style="display:none"></td>
                        <td style="display:none"></td>
                        <td style="display:none"></td>
                        <td style="display:none"></td>
                        <td style="display:none"></td>
                        <td style="display:none"></td>
                        <td style="display:none"></td>
                        <td style="display:none"></td>
                        <td style="display:none"></td>
                        <td style="display:none"></td>
                        <td style="display:none"></td>
                        <td style="display:none"></td>
                        <td style="display:none"></td>
                    </tr>
                </div>
            </tbody>
            <tfoot>
                <tr>
                    <th></th>
                    <th></th>
                    <th scope="col">Дата распил./прихода</th>
                    <th scope="col">Код партии</th>
                    <th scope="col">Порода</th>
                    <th scope="col">Описание</th>
                    <th scope="col">Толщина, мм</th>
                    <th scope="col">Длина, мм</th>
                    <th scope="col">Кубатура, м<sup>3</sup></th>
                    <th scope="col">Примечание</th>
                    <th scope="col">TreeStorage extent</th>
                    <th scope="col">Поставщик</th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                </tr>
            </tfoot>
        </table>
        <!-- BUTTON -->
        <div class="float-action-button" th:if="${btnConfig?.equals('btnON')}">
            <button type="button" class="buttons btn btn-primary" title="Добавить пиломатериалы с точковкой" data-toggle="modal" data-placement="left" data-target="#addToRawStorageModal">
                <i class="fa fa-plus"></i>
            </button>
            <button type="button" class="buttons btn btn-primary" title="История прихода" data-toggle="modal" data-placement="left" data-target="#exportHistoryModal">
                <i class="fas fa-history"></i>
            </button>
            <button type="button" class="buttons btn btn-primary" title="Экспорт фактический" data-toggle="modal" data-placement="left" data-target="#exportModal">
                <i class="far fa-file-excel"></i>
            </button>
            <button type="button" class="buttons btn btn-primary" title="Группировать" data-toggle="modal" data-placement="left" id="groupRawStorageOakButton">
                <i class="fas fa-code-branch"></i>
            </button>
            <button type="button" class="buttons main-button btn btn-primary" title="Добавить материал" data-toggle="modal" data-placement="left" data-target="#addInitialRawModal">
                <i class="fa fa-plus"></i>
            </button>
        </div>
        <!-- BUTTON -->
    </div>

    <!--  Grouping pine start -->
    <div class="modal fade" id="groupingOakModal">
        <div class="modal-dialog modal-lg modal-dialog-centered" style="width: 100% !important;" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Группирование</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form th:action="@{'/fabric/groupOakRaw-'+${userId}+'-'+${breedId}}" id="groupRawStorageItems" method="post">
                        <div class="form-group row d-flex" style="align-items: flex-end; margin-top: 5px">
                            <div class="col-6">
                                <label class="col-form-label" for="groupDryingModalCodeOak">Код</label>
                                <input type="text" class="form-control" id="groupDryingModalCodeOak" required="required" placeholder="Не заполнено" autocomplete="off" name="codeOfProduct">
                            </div>
                            <div class="col-6">
                                <label class="control-label" for="groupDryingModalMaterialOak">Порода</label>
                                <input type="text" class="form-control" id="groupDryingModalMaterialOak" readonly>
                            </div>
                            <div class="col-6">
                                <label class="control-label" for="groupDryingModalMaterialDescrOak">Описание</label>
                                <input class="form-control" id="groupDryingModalMaterialDescrOak" type="text" placeholder="Не заполнено" name="breedDescription">
                            </div>
                            <div class="col-6">
                                <label class="col-form-label" for="groupDryingModalThicknessOak">Толщина, мм</label>
                                <input type="number" min="1" pattern="[0-9]*\.?[0-9]*" class="form-control" readonly id="groupDryingModalThicknessOak" required="required" autocomplete="off" placeholder="мм" name="sizeOfHeight"  oninput="calculateExtent()">
                            </div>
                            <div class="col-6">
                                <label class="col-form-label" for="groupDryingModalLengthOak">Длина, мм</label>
                                <input type="number" min="0" pattern="[0-9]*\.?[0-9]*" class="form-control" readonly id="groupDryingModalLengthOak" required="required" autocomplete="off" placeholder="мм" name="sizeOfLong"  oninput="calculateExtent()">
                            </div>
                            <div class="col-6">
                                <label class="col-form-label" for="groupDryingModalVolumeOak">Кубатура м<sup>3</sup></label>
                                <input type="text"  class="form-control" id="groupDryingModalVolumeOak" required="required" readonly autocomplete="off" placeholder="мм" name="extent">
                            </div>
                        </div>

                        <table class="table table-hover table-striped" id="tableForOakRawStorageGrouping" style="padding-left: 1rem; padding-right: 1rem">
                            <thead>
                            <tr>
                                <th scope="col">Код</th>
                                <th scope="col">Описание</th>
                                <th scope="col">Кубатура</th>
                                <th scope="col">ID</th>
                                <th></th>
                            </tr>
                            </thead>

                            <tbody>

                            </tbody>

                            <tfoot>
                                <th scope="col">Код</th>
                                <th scope="col">Описание</th>
                                <th scope="col">Кубатура</th>
                                <th scope="col">ID</th>
                                <th></th>
                            </tfoot>
                        </table>
                        <div class="modal-footer">
                            <button type="submit" class="btn btn-primary">Отправить</button>
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Отмена</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Add modal-->
    <div class="modal fade" id="addToRawStorageModal">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Добавление материала</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <form th:action="@{'/fabric/addDeskFromProvider-'+${userId}+'-'+${breedId}}" method="post">
                    <div class="modal-body" style="padding-top: 0; padding-bottom: 0;">
                        <!-- Insert rows -->
                        <div class="form-group">

                            <label class="col-form-label" for="editDryingModalCode">Код</label>
                            <input type="text" class="form-control" required="required" placeholder="Не заполнено" autocomplete="off" name="codeOfProduct">

                            <div class="form-group row d-flex" style="align-items: flex-end; margin-bottom: 0; margin-top: 0.5rem">
                                <div class="col-6">
                                    <label class="control-label" for="editDryingModalMaterial">Порода</label>
                                    <input type="text" class="form-control" disabled="disabled" th:value="${breedOfTreeList[breedId-1].breed}">
                                </div>
                                <div class="col-6">
                                    <label class="control-label" for="editDryingModalMaterialDescr">Описание</label>
                                    <input class="form-control" placeholder="Не заполнено" type="text" name="breedDescription">
                                </div>
                            </div>

                            <div class="form-group row d-flex" style="align-items: flex-end; margin-bottom: 0;">
                                <div class="col-4">
                                    <label class="col-form-label" for="editDryingModalThickness">Толщина</label>
                                    <input type="number" min="1" pattern="[0-9]*\.?[0-9]*" class="form-control" required="required" autocomplete="off" placeholder="мм" name="sizeOfHeight">
                                </div>
                                <div class="col-4">
                                    <label class="col-form-label" for="editDryingModalLength">Длина</label>
                                    <input type="number" min="0" pattern="[0-9]*\.?[0-9]*" class="form-control" autocomplete="off" placeholder="мм" name="sizeOfLong">
                                </div>
                                <div class="col-4">
                                    <label class="col-form-label" for="editDryingModalVolume">Кубатура</label>
                                    <input type="number" min="0" step="any" pattern="[0-9]*\.?[0-9]*" class="form-control" required="required"  autocomplete="off" placeholder="м3" name="extent">
                                </div>
                            </div>

                            <label class="col-form-label" for="addToRawStorageOakSupplier">Поставщик</label>
                            <input type="text" class="form-control" list="suppliers4" id="addToRawStorageOakSupplier" autocomplete="off" name="nameOfAgent" placeholder="Не заполнено" onchange="setHiddenValue(this)">
                            <datalist id="suppliers4">
                                <option  th:each="c, index : ${contrAgentList}" th:text="${c.nameOfAgent}" th:label="${c?.addressOfCompany}" th:data-value="${c.id}"></option>
                            </datalist>
                            <input type="number" hidden="hidden"  name="nameOfAgentId" id="addToRawStorageOakSupplier-hidden">

                            <label class="col-form-label" for="editForDryingModalDescription">Примечания</label>
                            <input type="text" class="form-control" placeholder="Не заполнено" name="description">

                        </div>
                        <!-- Insert rows -->
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary">Добавить</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Отмена</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!--  Send to the drying storage  -->
    <div class="modal fade" id="sendForDryingModalOak">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="sendForDryingModalHeader">Отправить в сушку</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <form th:action="@{'/fabric/addDeskToDrying-'+${userId}+'-'+${breedId}}" method="post" id="sendForDryingModalFormOak">
                    <div class="modal-body">

                        <!-- Insert rows -->
                        <div class="form-group">
                            <input type="text" class="form-control" id="sendForDryingModalId" hidden="hidden" autocomplete="off" name="rawStorageId">

                            <label class="col-form-label" for="sendForDryingModalCode">Код</label>
                            <input type="text" class="form-control" id="sendForDryingModalCode" required="required" placeholder="Не заполнено" autocomplete="off" name="codeOfProduct">

                            <div class="form-group row d-flex" style="align-items: flex-end; margin-bottom: 0;">
                                <div class="col-6">
                                    <label class="control-label" for="sendForDryingModalMaterial">Порода</label>
                                    <input type="text" class="form-control" id="sendForDryingModalMaterial" disabled="disabled">
                                </div>
                                <div class="col-6">
                                    <label class="control-label" for="sendForDryingModalMaterialDescr">Описание</label>
                                    <input class="form-control" id="sendForDryingModalMaterialDescr" type="text" placeholder="Не заполнено"  name="breedDescription">
                                </div>
                            </div>

                            <div class="form-group row d-flex" style="align-items: flex-end; margin-bottom: 0;">
                                <div class="col-4">
                                    <label class="col-form-label" for="sendForDryingModalThickness">Толщина</label>
                                    <input type="number" min="1" pattern="[0-9]*\.?[0-9]*" required="required" class="form-control" id="sendForDryingModalThickness" disabled="disabled" name="sizeOfHeight">
                                </div>
                                <div class="col-4">
                                    <label class="col-form-label" for="sendForDryingModalLength">Длина</label>
                                    <input type="number" min="0" pattern="[0-9]*\.?[0-9]*" class="form-control" id="sendForDryingModalLength" autocomplete="off" placeholder="мм" name="length">
                                </div>
                                <div class="col-4">
                                    <label class="col-form-label" for="sendForDryingModalVolume">Кубатура</label>
                                    <input type="number" min="0" step="any" pattern="[0-9]*\.?[0-9]*" class="form-control" placeholder="м3" id="sendForDryingModalVolume"  name="extent" required="required">
                                </div>
                            </div>

                            <div class="form-group row d-flex" style="align-items: flex-end; margin-bottom: 0;">
                                <div class="col-6">
                                    <label class="col-form-label" for="addDryingStartDateOak">Дата загрузки</label>
                                    <input class="form-control" type="date" id="addDryingStartDateOak"  name="startDate" required="required">
                                </div>
                                <div class="col-6">
                                    <label class="col-form-label" for="addDryingDateOak">Дата выхода</label>
                                    <input class="form-control" type="date" id="addDryingDateOak"  name="date" required="required">
                                </div>
                            </div>

                            <div class="form-group row d-flex" style="align-items: flex-end; margin-bottom: 0;">
                                <div class="col-6">
                                    <label class="col-form-label" for="addDryingBoxOak">Камера</label>
                                    <input class="form-control" type="number" min="0" id="addDryingBoxOak" placeholder="Не заполнено" name="cell" required="required">
                                </div>
                                <div class="col-6">
                                    <label class="col-form-label" for="sendForDryingModalDescription">Примечания</label>
                                    <input type="text" class="form-control" id="sendForDryingModalDescription" placeholder="Не заполнено" name="description">
                                </div>
                            </div>
                            <script type="text/javascript">
                                document.querySelector("#addDryingDateOak").valueAsDate = new Date();
                                document.querySelector("#addDryingStartDateOak").valueAsDate = new Date();
                            </script>

                        </div>
                        <!-- Insert rows -->
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary" id="sendForDryingModalSubmit">Отправить</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Отмена</button>
                    </div>
                </form>
            </div>
        </div>
    </div>


    <!-- Сушка edit-->
    <div class="modal fade" id="editDryingModal">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editDryingModalHeader">Редактировать</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <form th:action="@{'/fabric/editRawStorageObj-'+${userId}+'-'+${breedId}}" method="post" id="submitFormForEditOakRawStorage">
                    <div class="modal-body" style="padding-top: 0; padding-bottom: 0;">
                        <!-- Insert rows -->
                        <div class="form-group">
                            <input type="text" class="form-control" id="editDryingModalId" hidden="hidden" autocomplete="off" name="id">
                            <input type="text" class="form-control" id="editDryingModalMaxExtent" hidden="hidden" autocomplete="off">
                            <input type="text" class="form-control" id="editDryingModalInitialExtent" hidden="hidden" autocomplete="off">

                            <label class="col-form-label" for="editDryingModalCode">Код</label>
                            <input type="text" class="form-control" id="editDryingModalCode" required="required" placeholder="Не заполнено" autocomplete="off" name="codeOfProduct">

                            <div class="form-group row d-flex" style="align-items: flex-end; margin-bottom: 0; margin-top: 0.5rem">
                                <div class="col-6">
                                    <label class="control-label" for="editDryingModalMaterial">Порода</label>
                                    <input type="text" class="form-control" id="editDryingModalMaterial" disabled="disabled">
                                </div>
                                <div class="col-6">
                                    <label class="control-label" for="editDryingModalMaterialDescr">Описание</label>
                                    <input class="form-control" id="editDryingModalMaterialDescr" placeholder="Не заполнено" type="text" name="breedDescription">
                                </div>
                            </div>

                            <div class="form-group row d-flex" style="align-items: flex-end; margin-bottom: 0;">
                                <div class="col-4">
                                    <label class="col-form-label" for="editDryingModalThickness">Толщина</label>
                                    <input type="number" min="1" pattern="[0-9]*\.?[0-9]*" class="form-control" id="editDryingModalThickness" required="required" autocomplete="off" placeholder="мм" name="sizeOfHeight">
                                </div>
                                <div class="col-4">
                                    <label class="col-form-label" for="editDryingModalLength">Длина</label>
                                    <input type="number" min="0" pattern="[0-9]*\.?[0-9]*" class="form-control" id="editDryingModalLength" autocomplete="off" placeholder="мм" name="sizeOfLong">
                                </div>
                                <div class="col-4">
                                    <label class="col-form-label" for="editDryingModalVolume">Кубатура</label>
                                    <input type="number" min="0" step="any" pattern="[0-9]*\.?[0-9]*" class="form-control" id="editDryingModalVolume" required="required"  autocomplete="off" placeholder="мм" name="extent">
                                </div>
                            </div>

                            <label class="col-form-label" for="editForDryingModalDescription">Примечания</label>
                            <input type="text" class="form-control" id="editForDryingModalDescription" placeholder="Не заполнено" name="description">

                        </div>
                        <!-- Insert rows -->
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary">Редактировать</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Отмена</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Add position start   -->
    <div class="modal fade" id="addOakRawStorageItemModal">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addOakPackageItemsModalHeader"> </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <form th:action="@{'/fabric/addDescriptionOakItemToRawStorage-'+${userId}+'-'+${breedId}}" method="post">
                    <div class="modal-body">
                        <input type="number" id="addRawStorageId" hidden="" name="positionId">

                        <div class="form-group row d-flex" style="align-items: flex-end;margin-bottom: 0">
                            <div class="col-6">
                                <label for="addOakPackageContentWidth" class="col-form-label">Ширина</label>
                                <input type="number" min="1" pattern="[0-9]*\.?[0-9]*" placeholder="мм" class="form-control" id="addOakPackageContentWidth" required="required" autocomplete="off" name="width">
                            </div>
                            <div class="col-6">
                                <label class="col-form-label" for="addOakPackageContentCount">Количество досок</label>
                                <input type="number" min="1" pattern="[0-9]*\.?[0-9]*" placeholder="шт" class="form-control"  id="addOakPackageContentCount"  autocomplete="off" required="required" name="count">
                            </div>
                        </div>
                    </div>
                    <!-- Insert rows -->

                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary">Добавить</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Отмена</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!-- Add position end   -->

    <!-- Edit position item start   -->
    <div class="modal fade" id="editOakRawStorageItemModal">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Редактировать</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <form th:action="@{'/fabric/editDescriptionOakItemToRawStorage-'+${userId}+'-'+${breedId}}" method="post">
                    <div class="modal-body">
                        <input type="number" id="oakPackageContentId" hidden="" name="descId">
                        <input type="number" id="editOakPackageId" hidden="" name="rawStorageId">

                        <div class="form-group row d-flex" style="align-items: flex-end;margin-bottom: 0">
                            <div class="col-6">
                                <label for="editOakPackageContentWidth" class="col-form-label">Ширина, мм</label>
                                <input type="number" pattern="[0-9]*\.?[0-9]*" placeholder="мм" class="form-control" id="editOakPackageContentWidth" required="required" autocomplete="off" name="width">
                            </div>
                            <div class="col-6">
                                <label class="col-form-label" for="editOakPackageContentCount">Количество досок</label>
                                <input type="number" pattern="[0-9]*\.?[0-9]*" placeholder="шт" class="form-control"  id="editOakPackageContentCount"  autocomplete="off" required="required" name="count">
                            </div>
                        </div>
                    </div>
                    <!-- Insert rows -->

                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary">Сохранить</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Отмена</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!-- Edit position item end   -->

    <!--  Modal item delete confirmation start -->
    <div class="modal fade" id="deleteOakRawStorageItemModal">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Удаление</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <!--       TUT         -->
                <form th:action="@{'/fabric/deleteDescriptionOakItemToRawStorage-'+${userId}+'-'+${breedId}}" method="post">
                    <div class="modal-body">

                        <div class="form-group">
                            <input type="text" class="form-control" id="deleteOakPackId" hidden="hidden" autocomplete="off" name="rawStorageId">
                            <input type="text" class="form-control" id="deleteOakPackItemModalId" hidden="hidden" autocomplete="off" name="descId">

                            <p id="deleteOakPackItemModalConfirmation">
                            </p>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary">Удалить</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Отмена</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!--  Modal item delete confirmation end -->

    <!-- Сырой склад -> Пачки -->
    <div class="modal fade" id="sendFromRawToPackageOakModal">
            <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title " id="sendForPackageModalOakHeader">Рассчитать и добавить кубатуру из пачки</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <form >
                        <div class="modal-body">
                            <input type="text" id="addOakInitialPackageCodeAdditionalExtentModalIdOak" hidden="hidden" >
                            <input type="text" hidden="hidden" id="breedId" th:value="${breedId}">
                            <input type="text" hidden="hidden" id="userId" th:value="${userId}">

                            <div class="form-group row">
                                <div class="col-4">
                                    <label class="col-form-label" for="sendForPackageModalCodeOak">Код пачки</label>
                                    <input type="text" class="form-control" id="sendForPackageModalCodeOak" required="required" autocomplete="off" placeholder="Не заполнено">
                                </div>
                                <div class="col-4">
                                    <label class="control-label" for="sendForPackageModalQualityOak" style="padding-top: 7px">Качество</label>
                                    <input type="text" class="form-control" id="sendForPackageModalQualityOak" required="required" placeholder="Не заполнено">
                                </div>
                                <div class="col-2">
                                    <label class="control-label" for="sendForPackageModalSizeOak" style="padding-top: 7px">Толщина, мм</label>
                                    <input type="number" min="1" class="form-control" id="sendForPackageModalSizeOak" required="required" autocomplete="off" placeholder="мм">
                                </div>
                                <div class="col-2">
                                    <label class="col-form-label" for="sendForPackageModalLengthOak">Длина, мм</label>
                                    <input type="number" min="0" class="form-control" id="sendForPackageModalLengthOak" required="required" autocomplete="off" placeholder="мм">
                                </div>
                            </div>

                            <hr>

                            <div class="form-group row d-flex" style="align-items: flex-end">
                                <div class="col-3">
                                    <label class="col-form-label" for="sendForPackageModalWidthOak">Ширина, мм</label>
                                    <input type="number" min="0" step="10" class="form-control" id="sendForPackageModalWidthOak" required="required" autocomplete="off" placeholder="мм" value="100">
                                </div>
                                <div class="col-3">
                                    <label class="control-label" for="sendForPackageModalCountOak" style="padding-top: 7px">Количество</label>
                                    <input type="number" min="0" class="form-control" id="sendForPackageModalCountOak" required="required" autocomplete="off" placeholder="шт">
                                </div>
                                <div class="col-6" style="display: inline-flex; text-align: right;justify-content: flex-end;">
                                    <button id="buttonForAddingOakRow" type="button" class="btn btn-primary" style="margin-right: 5px;width: 50%">Добавить ширину</button>
                                    <button type="button" class="btn btn-primary" style="width: 50%" id="createPackageFromRawOak">Добавить кубатуру</button>
                                </div>
                                <div class="col-3">
                                    <label class="control-label" for="sendForPackageModalExtentOak" style="padding-top: 7px">Кубатура</label>
                                    <input type="text" disabled="disabled" class="form-control" id="sendForPackageModalExtentOak"  autocomplete="off" placeholder="м3">
                                </div>
                                <div class="col-3">
                                    <label class="control-label" for="sendForPackageModalTotalDescdCountOak" style="padding-top: 7px">Сум. количество</label>
                                    <input type="number" min="0" class="form-control" disabled="disabled" id="sendForPackageModalTotalDescdCountOak" placeholder="шт">
                                    <input type="hidden" id="sendFromRawToPackageOakModalSum">
                                </div>
                                <div class="col-6">
                                </div>
                            </div>
                        </div>
                            <table class="table table-hover table-striped" id="tableForTransportationOak" style="padding-left: 1rem; padding-right: 1rem">
                                <thead>
                                <tr>
                                    <th scope="col">Ширина, мм</th>
                                    <th scope="col">Количество досок, шт</th>
                                    <th></th>
                                </tr>
                                </thead>

                                <tbody id="listOfPackageId">
                                <!-- <tr></tr> -->
                                </tbody>

                                <tfoot>
                                <th scope="col">Ширина, мм</th>
                                <th scope="col">Количество досок, шт</th>
                                <th></th>
                                </tfoot>

                            </table>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" id="clearTableButton" data-dismiss="modal">Отмена</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    <!-- Сырой склад -> Пачки end-->

    <!-- Add package start -->
    <div class="modal fade" id="addInitialRawModal">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title ">Добавление материала</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <form >
                    <div class="modal-body">
                        <input type="number" hidden="hidden" id="breedIdPack" th:value="${breedId}">
                        <input type="text" hidden="hidden" id="userIdPack" th:value="${userId}">
                        <input type="number" hidden="hidden" id="maxPossibleExtent" th:value="${(treeStorageList?.size()>0) ? treeStorageList.get(0).extent : 0}">

                        <div class="form-group row d-flex" style="align-items: flex-end; margin-bottom: 0">
                            <div class="col-4">
                                <label class="col-form-label" for="addOakInitialPackageCode">Код партии/номер пилорамы</label>
                                <input type="text" class="form-control" id="addOakInitialPackageCode" placeholder="Не заполнено" required="required" autocomplete="off">
                            </div>
                            <div class="col-4">
                                <label class="control-label" for="addOakMaterial">Порода</label>
                                <input class="form-control" id="addOakMaterial" type="text" placeholder="Порода" th:value="${breedOfTreeList[breedId-1].breed}" name="" disabled="disabled">
                            </div>
                            <div class="col-4">
                                <label class="control-label" for="addOakInitialPackageDescr">Описание</label>
                                <input class="form-control" id="addOakInitialPackageDescr" placeholder="Не заполнено" type="text" name="breedDescription">
                            </div>
                        </div>

                        <div class="form-group row">
                            <div class="col-4">
                                <label class="col-form-label" for="addOakInitialPackageTreeStorage">Кругляк *</label>
                                <input type="text" class="form-control" list="treeListOak" id="addOakInitialPackageTreeStorage" autocomplete="off" name="nameOfAgent" placeholder="Не заполнено" onchange="setHiddenValue(this)">
                                <datalist id="treeListOak">
                                    <option  th:each="c : ${treeStorageList}" th:data-value="${c.id}" th:text="${c.codeOfProduct}" th:label="${c.extent}"></option>
                                </datalist>
                                <input type="number" hidden="hidden"  name="treeStorageId" id="addOakInitialPackageTreeStorage-hidden">
                            </div>
                            <div class="col-4">
                                <label class="col-form-label" for="addOakInitialPackageSupplier">Поставщик **</label>
                                <input type="text" class="form-control" list="suppliers1oak" id="addOakInitialPackageSupplier" autocomplete="off" name="nameOfAgent" placeholder="Не заполнено" onchange="setHiddenValue(this)">
                                <datalist id="suppliers1oak">
                                    <option  th:each="c : ${contrAgentList}" th:data-value="${c.id}" th:text="${c.nameOfAgent}" th:label="${c.addressOfCompany}"></option>
                                </datalist>
                                <input type="number" hidden="hidden"  name="contrAgent.id" id="addOakInitialPackageSupplier-hidden">
                            </div>
                            <div class="col-2">
                                <label class="control-label" for="addDeliveryPackageModalSizeOak" style="padding-top: 7px">Толщина, мм</label>
                                <input type="number" min="1" pattern="[0-9]*\.?[0-9]*" placeholder="мм" class="form-control" id="addDeliveryPackageModalSizeOak" required="required">
                            </div>
                            <div class="col-2">
                                <label class="col-form-label" for="addDeliveryPackageModalLengthOak">Длина, мм</label>
                                <input type="number" min="0" pattern="[0-9]*\.?[0-9]*" placeholder="мм" class="form-control" id="addDeliveryPackageModalLengthOak" required="required" autocomplete="off">
                            </div>
                        </div>

                        <hr>

                        <div class="form-group row d-flex" style="align-items: flex-end">
                            <div class="col-3">
                                <label class="col-form-label" for="addDeliveryPackageModalWidthOak">Ширина, мм</label>
                                <input type="number" min="0" step="10" pattern="[0-9]*\.?[0-9]*" placeholder="мм" class="form-control" id="addDeliveryPackageModalWidthOak" required="required" autocomplete="off" value="100">
                            </div>

                            <div class="col-3">
                                <label class="control-label" for="addDeliveryPackageModalCountOak" style="padding-top: 7px">Количество</label>
                                <input type="number" min="0" step="1" pattern="[0-9]*\.?[0-9]*" placeholder="шт" class="form-control" id="addDeliveryPackageModalCountOak" required="required" autocomplete="off">
                            </div>

                            <div class="col-6" style="display: inline-flex; text-align: right;justify-content: flex-end;">
                                <button id="buttonForAddingInitialPackageOakRow" type="button" class="btn btn-primary" style="width: 50%; margin-right: 5px">Добавить ширину</button>
                                <button type="button" class="btn btn-primary" style="width: 50%" id="createInitialPackageFromRawOak">Сохранить</button>
                            </div>

                            <div class="col-3">
                                <label class="control-label" for="addDeliveryPackageModalExtentOak" style="padding-top: 7px">Кубатура</label>
                                <input type="text" disabled="disabled" class="form-control" id="addDeliveryPackageModalExtentOak"  autocomplete="off" placeholder="м3">
                            </div>

                            <div class="col-3">
                                <label class="control-label" for="sendForPackageModalTotalDescsCountOak" style="padding-top: 7px">Сум. количество</label>
                                <input type="number" min="0" class="form-control" disabled="disabled" id="sendForPackageModalTotalDescsCountOak" placeholder="шт">
                                <input type="hidden" id="addInitialRawModalSum">
                            </div>
                            <div class="col-6">
                                <label class="control-label" for="addDeliveryPackageModalUsedExtentOak" style="padding-top: 7px">Использовано материала</label>
                                <input type="number" min="0" disabled="disabled" name="usedExtent" step="any" pattern="[0-9]*\.?[0-9]*" class="form-control" id="addDeliveryPackageModalUsedExtentOak"  autocomplete="off" placeholder="м3">
                            </div>
                        </div>
                    </div>
                    <table class="table table-hover table-striped" id="tableForPackagesOak" style="padding-left: 1rem; padding-right: 1rem">
                        <thead>
                            <tr>
                                <th scope="col">Ширина, мм</th>
                                <th scope="col">Количество досок, шт</th>
                                <th></th>
                            </tr>
                        </thead>

                        <tbody id="listOfOakPackageRowsId">
                        <!-- <tr></tr> -->
                        </tbody>

                        <tfoot>
                            <th scope="col">Ширина, мм</th>
                            <th scope="col">Количество досок, шт</th>
                            <th></th>
                        </tfoot>
                    </table>
                    <div class="modal-footer" style="justify-content: space-between; flex-wrap: nowrap;">
                        <p style="font-size: 14px;">* Выбрав "Кругляк", с прихода леса ("Остаток всего") будет списана кубатура.</p>
                        <p style="font-size: 14px;">** Если указать поставщика, кубатура списываться не будет.</p>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal" id="clearInitialPackageButton">Отмена</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!--Add package end-->



    <!-- Export start-->
    <div class="modal fade" id="exportModal">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Экспортировать таблицу</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <form  th:action="@{'/fabric/exportRawStorageXLS-'+${userId}+'-'+${breedId}+${exportLinkParams}}" method="post">
                    <div class="modal-body">
                        <p>В экспортируемый файл попадут все записи, которые отображены в таблице.</p>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary">Скачать</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Отмена</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        document.querySelector("#endDateInput").valueAsDate = new Date();
    </script>
    <!-- Export end -->

    <!-- Export history start-->
    <div class="modal fade" id="exportHistoryModal">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Экспортировать историю прихода материала</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <form th:action="@{'/fabric/exportProviderHistoryTreeStorageXLS-'+${userId}+'-'+${breedId}}" method="post">
                    <div class="modal-body">
                        <div class="form-group row">
                            <label for="startDateInput" class="col-2 col-form-label">Начало</label>
                            <div class="col-10">
                                <input class="form-control" type="date" value="2020-01-01" id="startHistDateInput" required="required" name="startDate">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="endDateInput" class="col-2 col-form-label">Конец</label>
                            <div class="col-10">
                                <input class="form-control" type="date" id="endHistDateInput" required="required" name="endDate">
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary">Скачать</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Отмена</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        document.querySelector("#endHistDateInput").valueAsDate = new Date();
    </script>
    <!-- Export history end -->

    <!--  Modal return confirmation start -->
    <div class="modal fade" id="returnToIncomeModal">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Возвращение</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <!--       TUT         -->
                <form th:action="@{'/fabric/returnRawPackageToTree-'+${userId}+'-'+${breedId}}" method="post">
                    <div class="modal-body">

                        <div class="form-group">
                            <input type="text" class="form-control" id="returnItemId" hidden="hidden" autocomplete="off" name="id">

                            <p id="returnItemModalConfirmation">
                            </p>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary" id="submitReturnBtnRS">Подтвердить</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Отмена</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!--  Modal return confirmation end -->

    <!--  Modal reset confirmation start -->
    <div class="modal fade" id="resetModal">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Обнуление</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <!--       TUT         -->
                <form th:action="@{'/fabric/resetRawPackageExtent-'+${userId}+'-'+${breedId}}" method="post">
                    <div class="modal-body">

                        <div class="form-group">
                            <input type="text" class="form-control" id="resetItemId" hidden="hidden" autocomplete="off" name="id">

                            <p id="resetItemModalConfirmation">
                            </p>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary">Подтвердить</button>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Отмена</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!--  Modal reset confirmation end -->

    <script type="text/javascript" th:src="@{../js/fabric/raw/raw.storage.oak.js}"></script>
<!--    <script type="text/javascript" th:src="@{../js/fabric/dry/dry.storage.oak.js}"></script>-->

</th:block>