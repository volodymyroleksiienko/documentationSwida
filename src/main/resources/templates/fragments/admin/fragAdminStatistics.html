<th:block xmlns:th="http://www.w3.org/1999/xhtml" th:fragment="statisticsPine">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        google.charts.load('current', {'packages':['corechart']});
        google.charts.setOnLoadCallback(drawChart);

        function drawChart() {

            var data = google.visualization.arrayToDataTable([
                ['Extent', 'Sqr meters'],
                ['Кругляк',     11],
                ['Сырой склад',      2],
                ['Сушка',  3],
                ['Сухой склад', 2],
                ['Пачки',    7],
                ['Транспортировка',    6],
                ['Переработка',    1]
            ]);

            var options = {
                title: 'Суммарная кубатура: '+123.123+" м3",
                pieHole: 0.4,
            };

            var chart = new google.visualization.PieChart(document.getElementById('piechart'));

            chart.draw(data, options);
        }
    </script>

    <div class="tab-pane fade show active container" id="pineStats">
        <br>
        <table style="width: 100%" >
            <tr>
                <th scope="col">Описание</th>
                <th scope="col">Толщина, мм</th>
                <th scope="col">Ширина, мм</th>
                <th scope="col">Длина, мм</th>
                <th scope="col">Производитель</th>
                <th scope="col">Стадия</th>
            </tr>
            <tr>
                <td>
                    <select id="selectDescription" data-placeholder="Choose description" class="multipleChosen" multiple="true">
                        <option  th:each="obj : ${descList}" th:value="${obj}" th:text="${obj}"></option>
                    </select>
                </td>
                <td>
                    <select id="selectSizeOfHeight" data-placeholder="Choose height" class="multipleChosen" multiple="true">
                        <option  th:each="obj : ${sizeOfHeightList}" th:value="${obj}" th:text="${obj}"></option>
                    </select>
                </td>
                <td>
                    <select id="selectSizeOfWidth" data-placeholder="Choose height" class="multipleChosen" multiple="true">
                        <option  th:each="obj : ${sizeOfWidthList}" th:value="${obj}" th:text="${obj}"></option>
                    </select>
                </td>
                <td>
                    <select id="selectSizeOfLong" data-placeholder="Choose height" class="multipleChosen" multiple="true">
                        <option  th:each="obj : ${sizeOfLongList}" th:value="${obj}" th:text="${obj}"></option>
                    </select>
                </td>
                <td>
                    <select id="selectProvider" data-placeholder="Choose height" class="multipleChosen" multiple="true">
                        <option  th:each="obj : ${providerList}" th:value="${obj.id}" th:text="${obj.nameOfAgent}"></option>
                    </select>
                </td>
                <td>
                    <select id="selectStage" data-placeholder="Choose height" class="multipleChosen" multiple="true">
                        <option  value="treeStorage">treeStorage</option>
                        <option  value="rawStorage">rawStorage</option>
                        <option  value="dryingStorage">dryingStorage</option>
                        <option  value="dryStorage">dryStorage</option>
                        <option  value="packagedProduct">packagedProduct</option>
                        <option  value="deliveryMultimodal">deliveryMultimodal</option>
                        <option  value="deliveryPort">deliveryPort</option>
                        <option  value="deliveryCountry">deliveryCountry</option>
                        <option  value="providerInWork">providerInWork</option>


                    </select>
                </td>
                <td style="width: auto; align-items: end;">
                    <button class="btn btn-primary" onclick="sendRequestForStatistic(this.id)" th:id="${breedId}">
                        Поиск
                    </button>
                </td>
            </tr>
        </table>
        <div style="display: flex; align-items: center; justify-content: center">
            <div id="piechart" style="width: 900px; height: 500px; justify-content: center">
            </div>
        </div>
    </div>


    </div>
    <script type="text/javascript">
        function sendRequestForStatistic(breedId) {
            var descriptions = $('#selectDescription').val();
            var sizeOfHeight = $('#selectSizeOfHeight').val();
            var sizeOfWidth = $('#selectSizeOfWidth').val();
            var sizeOfLong = $('#selectSizeOfLong').val();
            var providers = $('#selectProvider').val();
            var stages = $('#selectStage').val();

            console.log(breedId);
            $.ajax({
                method: "post",
                url: "/admin/getStatisticInfo-"+breedId,
                contextType: "application/json",
                data: {
                    descriptions: descriptions,
                    sizeOfHeight: sizeOfHeight,
                    sizeOfWidth: sizeOfWidth,
                    sizeOfLong: sizeOfLong,
                    providers: providers,
                    stages: stages
                },
                traditional: true,
                success: function (statisticInfo) {
                    console.log(statisticInfo);
                    // location.reload();
                },
                error: function () {
                    alert("Error");
                }
            });

        }

        function getListOfSelected(selectId){

        }
    </script>

</th:block>






<th:block xmlns:th="http://www.w3.org/1999/xhtml" th:fragment="statisticsOak">
    <div class="tab-pane fade show active container" id="oakStats">
        <h1>Oak</h1>
    </div>
</th:block>